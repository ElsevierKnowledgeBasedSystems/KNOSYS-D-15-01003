<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<project default="package" name="Package xjaf2x-server.jar">
	
	<property environment="env" />
	<fail unless="env.JBOSS_HOME" message="Environment variable JBOSS_HOME not set" />
	
	<target name="clean">
		<delete file="${env.JBOSS_HOME}/xjaf2x-server.jar" />
	</target>

	<target name="package" depends="clean">
		<jar destfile="${env.JBOSS_HOME}/xjaf2x-server.jar">
			<manifest>
				<attribute name="Class-Path" value="WEB-INF/lib/jason-1.3.9.jar" />
				<attribute name="Dependencies" value="org.infinispan export" />
			</manifest>
			<fileset dir="build/classes" />
			<fileset dir="." includes="maps/**" />
			<zipgroupfileset dir="war/WEB-INF/lib" includes="*.jar" />
		</jar>
	</target>
</project>
